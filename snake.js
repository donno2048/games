function rColor(){for(var t="#",a=0;a<6;a++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}function game(){px+=xv,py+=yv,px<0&&(px=tc-1),px>tc-1&&(px=0),py<0&&(py=tc-1),py>tc-1&&(py=0),ctx.fillStyle="white",ctx.fillRect(0,0,canv.width,canv.height),ctx.fillStyle=sa;for(var t=0;t<trail.length;t++)ctx.fillRect(trail[t].x*gs,trail[t].y*gs,gs-2,gs-2),trail[t].x==px&&trail[t].y==py&&(tail=5);for(trail.push({x:px,y:py});trail.length>tail;)trail.shift();ax==px&&ay==py&&(tail++,ax=Math.floor(Math.random()*tc),ay=Math.floor(Math.random()*tc)),ctx.fillStyle=ac,ctx.fillRect(ax*gs,ay*gs,gs-2,gs-2)}function keyPush(t){switch(t.keyCode){case 37:xv=-1,yv=0;break;case 38:xv=0,yv=-1;break;case 39:xv=1,yv=0;break;case 40:xv=0,yv=1}}ac=rColor(),sa=rColor(),window.onload=function(){canv=document.getElementById("game"),ctx=canv.getContext("2d"),document.addEventListener("keydown",keyPush),setInterval(game,100)},px=py=10,gs=tc=20,ax=ay=15,xv=yv=0,trail=[],tail=5;